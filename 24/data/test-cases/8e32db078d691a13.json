{
  "uid" : "8e32db078d691a13",
  "name" : "Basket Emptify",
  "fullName" : "test_hoff#test_basket_emptify",
  "historyId" : "bdcdd99c360e268a485b75d657c65a20",
  "time" : {
    "start" : 1707926545708,
    "stop" : 1707926600698,
    "duration" : 54990
  },
  "description" : "This test attempts to add couple items to the basket and then emptify it.",
  "descriptionHtml" : "<p>This test attempts to add couple items to the basket and then emptify it.</p>\n",
  "status" : "broken",
  "statusMessage" : "playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.",
  "statusTrace" : "page = <Page url='https://hoff.ru/catalog/kuhnya/kuhonnye_garnitury/gotovie_reshenia/modulnie/?query=%D0%9C%D0%BE%D0%B4%D1%83...%D1%83%D1%85%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5+%D0%B3%D0%B0%D1%80%D0%BD%D0%B8%D1%82%D1%83%D1%80%D1%8B&prices=50001_293916'>\n\n    @allure.title(\"Basket Emptify\")\n    @allure.description(\n        \"This test attempts to add couple items to the basket and then emptify it.\"\n    )\n    @allure.tag(\n        \"Essentials\",\n    )\n    @allure.severity(allure.severity_level.MINOR)\n    @allure.link(\n        \"https://disk.yandex.ru/edit/d/t5Wq-4elrJGyNFQzXPsDTCPegnqahzm72s0qoIz-cKg6YjNoOURsNEZ1dw\",\n        name=\"Source\",\n    )\n    @allure.testcase(\"Test\")\n    def test_basket_emptify(page: Page):\n        with allure.step(\"Open the main page and search for a kitchen sets\"):\n            page.goto(\"https://hoff.ru/\")\n            expect(page).to_have_title(re.compile(\"Hoff\"))\n            page.fill('.c-input__field[type=\"search\"]', \"Модульные кухонные гарнитуры\")\n            page.get_by_role(\"button\", name=\"Смотреть все результаты\").click()\n            page.get_by_role(\"spinbutton\", name=\"от\").fill(\"50001\")\n            page.get_by_role(\"spinbutton\", name=\"до\").focus()\n            page.wait_for_load_state(\"domcontentloaded\")\n            page.get_by_role(\"spinbutton\", name=\"до\").fill(\"99999\")\n            page.get_by_role(\"spinbutton\", name=\"от\").focus()\n            page.wait_for_load_state(\"domcontentloaded\")\n    \n        with allure.step(\"Check kitchen set reviews tab and add the set to the basket\"):\n            with page.context.expect_page() as second_tab:\n                page.get_by_role(\n                    \"link\",\n                    name=re.compile(\n                        \" кухонный гарнитур \",\n                    ),\n>               ).first.click()\n\ntest_hoff.py:110: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15864: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:158: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:494: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7fc521d247a0>\nmethod = 'click'\nparams = {'selector': 'internal:role=link[name=/ кухонный гарнитур /] >> nth=0', 'strict': True}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:101: TimeoutError",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ {
    "name" : "browser",
    "time" : {
      "start" : 1707926525583,
      "stop" : 1707926526084,
      "duration" : 501
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "delete_output_dir",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525375,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "playwright",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525582,
      "duration" : 207
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "pytestconfig",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525375,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "_verify_url",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525375,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "context",
    "time" : {
      "start" : 1707926545401,
      "stop" : 1707926545450,
      "duration" : 49
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "browser_type",
    "time" : {
      "start" : 1707926525583,
      "stop" : 1707926525583,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "base_url",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525375,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "browser_type_launch_args",
    "time" : {
      "start" : 1707926525375,
      "stop" : 1707926525375,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "launch_browser",
    "time" : {
      "start" : 1707926525583,
      "stop" : 1707926525583,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "browser_context_args",
    "time" : {
      "start" : 1707926526084,
      "stop" : 1707926526084,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "page",
    "time" : {
      "start" : 1707926545450,
      "stop" : 1707926545707,
      "duration" : 257
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "device",
    "time" : {
      "start" : 1707926526084,
      "stop" : 1707926526084,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "testStage" : {
    "description" : "This test attempts to add couple items to the basket and then emptify it.",
    "status" : "broken",
    "statusMessage" : "playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.",
    "statusTrace" : "page = <Page url='https://hoff.ru/catalog/kuhnya/kuhonnye_garnitury/gotovie_reshenia/modulnie/?query=%D0%9C%D0%BE%D0%B4%D1%83...%D1%83%D1%85%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5+%D0%B3%D0%B0%D1%80%D0%BD%D0%B8%D1%82%D1%83%D1%80%D1%8B&prices=50001_293916'>\n\n    @allure.title(\"Basket Emptify\")\n    @allure.description(\n        \"This test attempts to add couple items to the basket and then emptify it.\"\n    )\n    @allure.tag(\n        \"Essentials\",\n    )\n    @allure.severity(allure.severity_level.MINOR)\n    @allure.link(\n        \"https://disk.yandex.ru/edit/d/t5Wq-4elrJGyNFQzXPsDTCPegnqahzm72s0qoIz-cKg6YjNoOURsNEZ1dw\",\n        name=\"Source\",\n    )\n    @allure.testcase(\"Test\")\n    def test_basket_emptify(page: Page):\n        with allure.step(\"Open the main page and search for a kitchen sets\"):\n            page.goto(\"https://hoff.ru/\")\n            expect(page).to_have_title(re.compile(\"Hoff\"))\n            page.fill('.c-input__field[type=\"search\"]', \"Модульные кухонные гарнитуры\")\n            page.get_by_role(\"button\", name=\"Смотреть все результаты\").click()\n            page.get_by_role(\"spinbutton\", name=\"от\").fill(\"50001\")\n            page.get_by_role(\"spinbutton\", name=\"до\").focus()\n            page.wait_for_load_state(\"domcontentloaded\")\n            page.get_by_role(\"spinbutton\", name=\"до\").fill(\"99999\")\n            page.get_by_role(\"spinbutton\", name=\"от\").focus()\n            page.wait_for_load_state(\"domcontentloaded\")\n    \n        with allure.step(\"Check kitchen set reviews tab and add the set to the basket\"):\n            with page.context.expect_page() as second_tab:\n                page.get_by_role(\n                    \"link\",\n                    name=re.compile(\n                        \" кухонный гарнитур \",\n                    ),\n>               ).first.click()\n\ntest_hoff.py:110: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15864: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:158: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:494: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7fc521d247a0>\nmethod = 'click'\nparams = {'selector': 'internal:role=link[name=/ кухонный гарнитур /] >> nth=0', 'strict': True}\nreturn_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(\n            self._object, method, _filter_none(params)\n        )\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:101: TimeoutError",
    "steps" : [ {
      "name" : "Open the main page and search for a kitchen sets",
      "time" : {
        "start" : 1707926545708,
        "stop" : 1707926570539,
        "duration" : 24831
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Check kitchen set reviews tab and add the set to the basket",
      "time" : {
        "start" : 1707926570539,
        "stop" : 1707926600697,
        "duration" : 30158
      },
      "status" : "broken",
      "statusMessage" : "playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.\n",
      "statusTrace" : "  File \"/home/runner/work/hoff-playwrite-tests/hoff-playwrite-tests/test_hoff.py\", line 110, in test_basket_emptify\n    ).first.click()\n            ^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 15864, in click\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py\", line 158, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py\", line 494, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 63, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 495, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 101, in inner_send\n    result = next(iter(done)).result()\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 2,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ {
    "name" : "browser::0",
    "time" : {
      "start" : 1707926603495,
      "stop" : 1707926604061,
      "duration" : 566
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "playwright::0",
    "time" : {
      "start" : 1707926604062,
      "stop" : 1707926604075,
      "duration" : 13
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "context::0",
    "time" : {
      "start" : 1707926600833,
      "stop" : 1707926603493,
      "duration" : 2660
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "page::0",
    "time" : {
      "start" : 1707926600832,
      "stop" : 1707926600832,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "labels" : [ {
    "name" : "tag",
    "value" : "Essentials"
  }, {
    "name" : "severity",
    "value" : "minor"
  }, {
    "name" : "suite",
    "value" : "test_hoff"
  }, {
    "name" : "host",
    "value" : "fv-az1567-897"
  }, {
    "name" : "thread",
    "value" : "4746-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "test_hoff"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "browser_name",
    "value" : "'firefox'"
  } ],
  "links" : [ {
    "name" : "Test",
    "url" : "Test",
    "type" : "tms"
  }, {
    "name" : "Source",
    "url" : "https://disk.yandex.ru/edit/d/t5Wq-4elrJGyNFQzXPsDTCPegnqahzm72s0qoIz-cKg6YjNoOURsNEZ1dw",
    "type" : "link"
  } ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "minor",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Test defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ "Essentials" ]
  },
  "source" : "8e32db078d691a13.json",
  "parameterValues" : [ "'firefox'" ]
}